Проверка сгенерированного кода - [cargo-expand](https://github.com/dtolnay/cargo-expand)

https://stackoverflow.com/questions/65182338/how-to-create-a-macro-that-matches-enum-variants-without-knowing-its-structure
